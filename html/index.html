<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Envirohome: envirohome_simulator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Envirohome
   </div>
   <div id="projectbrief">UI to control a smart home system.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">envirohome_simulator </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the simulator module for Envirohome. Envirohome is a smart home system to allow you to control all of your smart devices in a easy to use and attractive interface.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Usage</h2>
<p>To build this project:</p><ol type="1">
<li>From project root directory run - <code>$ docker-compose build</code></li>
</ol>
<p>To run this project:</p><ol type="1">
<li>From project root directory run - <code>$ docker-compose up -d</code></li>
<li>In browser navigate to: <b><a href="http://localhost:5000/">http://localhost:5000/</a></b> or <b><a href="http://127.0.0.1:5000/">http://127.0.0.1:5000/</a></b></li>
</ol>
<h2><a class="anchor" id="autotoc_md1"></a>
Requirements:</h2>
<p>Docker and docker-compose must be installed</p>
<ol type="1">
<li><b><a href="https://docs.docker.com/install/">Install docker</a></b> - navigate to your Operating System and follow instructions</li>
<li><b><a href="https://docs.docker.com/compose/install/">Install docker-compose</a></b> - Same as above, find OS and follow instructions</li>
</ol>
<h2><a class="anchor" id="autotoc_md2"></a>
API routes:</h2>
<p>__/login__ - Method: <code>[POST]</code> parses JSON:- username, password</p>
<p>__/register__ - Method: <code>[POST]</code> parses JSON:- username, email, password</p>
<p>__/api/floorplan__ - Method <code>[GET]</code> returns floorplan.png image</p>
<p>__/api/devices__ - Method <code>[GET]</code> returns JSON:- devicename, deviceroom, devicestatus</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Useful commands:</h2>
<h3><a class="anchor" id="autotoc_md4"></a>
Custom CLI command:</h3>
<p>Example of running custom CLI command create_db (look inside services/web/manage.py): <code>$ docker-compose exec web python <a class="el" href="namespacemanage_1_1py.html">manage.py</a> create_db</code> Run seed_db to populate db (both create_db and seed_db are managed by entrypoint.sh) <code>$ docker-compose exec web python <a class="el" href="namespacemanage_1_1py.html">manage.py</a> seed_db</code></p>
<h3><a class="anchor" id="autotoc_md5"></a>
Some postgres stuff:</h3>
<pre class="fragment">// shell command to open connection to db
$ docker-compose exec db psql --username=envirohome_db --dbname=envirohome_db_dev

psql (12.0)
Type "help" for help.

// List databases
envirohome_db_dev=# \l
                                        List of databases
      Name       |    Owner    | Encoding |  Collate   |   Ctype    |      Access privileges
-----------------+-------------+----------+------------+------------+-----------------------------
 envirohome_db_dev | envirohome_db | UTF8     | en_US.utf8 | en_US.utf8 |
 postgres        | envirohome_db | UTF8     | en_US.utf8 | en_US.utf8 |
 template0       | envirohome_db | UTF8     | en_US.utf8 | en_US.utf8 | =c/envirohome_db             +
                 |             |          |            |            | envirohome_db=CTc/envirohome_db
 template1       | envirohome_db | UTF8     | en_US.utf8 | en_US.utf8 | =c/envirohome_db             +
                 |             |          |            |            | envirohome_db=CTc/envirohome_db
(4 rows)

// Select database
envirohome_db_dev=# \c envirohome_db_dev
You are now connected to database "envirohome_db_dev" as user "envirohome_db".

// View database relations
envirohome_db_dev=# \dt
          List of relations
 Schema | Name | Type  |    Owner
--------+------+-------+-------------
 public | user | table | envirohome_db
(1 row)

// Run basic sql here (for testing only)
envirohome_db_dev=# select * from users;
 id | username |         email          |    password_hash    | active
----+----------+------------------------+---------------------+--------
  1 | admin    | nobody@nowhere.address | totally a real hash | t
(1 row)

// Quit database
envirohome_db_dev=# \q
</pre><h2><a class="anchor" id="autotoc_md6"></a>
Contributing</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
Comments</h3>
<p>To add comments so that they can be read by the documentation tool Doxygen, use the following format (Python):</p>
<pre class="fragment">            ## @package pyexample
            #  Documentation for this module.
            #
            #  More details.

            ## Documentation for a function.
            #
            #  More details.
            def func():
                pass

            ## Documentation for a class.
            #
            #  More details.
            class PyClass:

                ## The constructor.
                def __init__(self):
                    self._memVar = 0;

                ## Documentation for a method.
                #  @param self The object pointer.
                def PyMethod(self):
                    pass

                ## A class variable.
                classVar = 0;

                ## @var _memVar
                #  a member variable
</pre><p>Special commands can be used within comment blocks to automatically document certain areas of code. Use a backslash () for these special commands.</p>
<p>For example: </p><pre class="fragment">            ## @package init.py
            #
            # \brief     briefly describe the file / method / class, etc
            # \details   add further details here
            # \author    Tannick Rose
            # \version   version number
            # \date      2020
            # \bug       
            # \copyright MIT License.
            #
</pre><p>To contribute to this project, clone the repo locally and commit your code to a separate branch before opening a pull request.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Frequently Asked Questions and Troubleshooting</h2>
<p>See our <b><a class="el" href="md__troubleshooting.html">troubleshooting guide</a></b> to find answers to some common questions about the project, as well as some ideas to troubleshoot any problems.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Support</h2>
<p>Major versions of this project are supported for six months from the date of release. The table below outlines the end of support dates for all major versions, and the last minor version for each version.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Major Version </th><th class="markdownTableHeadNone">Last Minor Version </th><th class="markdownTableHeadNone">End of Support Date  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">1.0 </td><td class="markdownTableBodyNone">N/A  </td></tr>
</table>
<p>If you are opening an issue for this project, please mention the version which the issue relates to.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
License</h2>
<p>Developed under the MIT License.</p>
<p>Copyright (c) 2020 Tanich Rose</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
